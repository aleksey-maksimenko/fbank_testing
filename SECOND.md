# Набор тестов SECOND.md

## Тест-кейс 1. Номер карты длиннее 16 символов

**Цель:** Проверить, что система отклоняет номер карты, превышающий допустимую длину.

**Шаги воспроизведения:**
1. Ввести номер карты, длиной более 16 символов: `1234 5678 9012 34567`
2. Указать сумму перевода.
3. Нажать кнопку «Перевести».

**Ожидаемый результат:** Перевод невозможен из-за некорректного номера карты.

**Фактический результат:** Перевод выполняется, несмотря на превышение длины номера карты.

**Вывод:** Тест не пройден. Функционал работает некорректно.

**Рекомендации:** Добавить валидацию на длину номера карты (строго 16 символов).

---

## Тест-кейс 2. Расчет суммы комиссии за перевод

**Цель:** Проверить, что комиссия составляет 10% от суммы перевода и округляется вниз.

**Шаги воспроизведения (для каждой из валют: Рубли, Доллары, Евро):**
1. Ввести корректный номер карты.
2. Ввести следующие суммы: `10`, `100`, `1000`, `1250`, `5500`.

**Ожидаемый результат:** Комиссия рассчитывается как 10% от суммы и округляется вниз.

**Фактический результат:**
- 10     → комиссия: 0
- 100    → комиссия: 10
- 1000   → комиссия: 100
- 1250   → комиссия: 120
- 5500   → комиссия: 550

**Вывод:** Тест пройден. Функционал работает корректно.

---

## Тест-кейс 3. Перевод суммы, превышающей доступный баланс (валюта: Доллары)

**Цель:** Убедиться, что перевод невозможен при недостаточном доступном балансе.

**Шаги воспроизведения:**
1. Установить баланс: `100`, резерв: `0`, доступная сумма: `100`.
2. Ввести корректный номер карты.
3. Ввести сумму перевода: `99`, `1000`, `5000`, `9999`, `20000`.

**Ожидаемый результат:** Перевод невозможен при превышении доступной суммы с учетом комиссии.

**Фактический результат:** Перевод доступен при суммах до `9099`, выше — недоступен.

**Вывод:** Тест не пройден. Логика проверки доступности перевода работает не во всех случаях.

**Рекомендации:** Уточнить расчет максимальной допустимой суммы перевода.

---

## Тест-кейс 4. Появление поля ввода номера карты при выборе любого счета

**Цель:** Убедиться, что поле «Номер карты» появляется при выборе любого счета.

**Шаги воспроизведения:**
1. Перейти на страницу `http://localhost:8000/?balance=30000&reserved=20001`
2. Поочередно выбрать карточки «Рубли», «Доллары», «Евро».

**Ожидаемый результат:** При каждом выборе счета появляется поле для ввода номера карты.

**Фактический результат:** Поле появляется корректно при выборе любого счета.

**Вывод:** Тест пройден. Функционал работает корректно.

---

## Тест-кейс 5. Поведение UI при вводе/удалении номера карты

**Цель:** Проверить отображение поля ввода суммы в зависимости от длины номера карты.

**Шаги воспроизведения:**
1. Выбрать карточку «Рубли».
2. Ввести номер карты: `1111 2222 3333 4444`.
3. Проверить появление поля для суммы.
4. Стереть часть номера карты (оставить < 16 символов).

**Ожидаемый результат:** 
- При полной длине номера появляется поле «Сумма перевода».
- При уменьшении длины поле исчезает.

**Фактический результат:** Поведение поля соответствует ожидаемому.

**Вывод:** Тест пройден. Поведение UI реализовано корректно.

---

# Баг-репорты

## Баг 1. Отсутствует валидация длины номера карты

**Описание:**  
Система позволяет ввести номер карты, превышающий 16 символов, и выполнить перевод.

**Шаги воспроизведения:**  
1. Ввести номер карты: `1234 5678 9012 34567` (17 символов).  
2. Ввести сумму.  
3. Нажать кнопку «Перевести».

**Ожидаемый результат:**  
Появляется сообщение об ошибке. Перевод не должен выполняться.

**Фактический результат:**  
Перевод выполняется на некорректный номер карты.

**Приоритет:** Высокий

**Рекомендации:**  
Реализовать проверку длины номера карты (строго 16 символов, без учета пробелов).

---

## Баг 2. Неверный расчет максимально допустимой суммы перевода для валюты «Доллары»

**Описание:**  
Система допускает перевод сумм, превышающих доступные средства с учетом комиссии.

**Шаги воспроизведения:**  
1. Баланс: `100`, резерв: `0`, доступно: `100`.  
2. Ввести сумму: `99`, `1000`, `5000`, `9000`, `9099`, `9100`.  
3. Нажать «Перевести».

**Ожидаемый результат:**  
Перевод невозможен, если итоговая сумма с учетом комиссии превышает доступный баланс.

**Фактический результат:**  
Перевод доступен при суммах, превышающих допустимый предел. Только сумма свыше `9099` блокируется.

**Приоритет:** Средний

**Рекомендации:**  
Актуализировать проверку допустимой суммы перевода с учетом комиссии.
